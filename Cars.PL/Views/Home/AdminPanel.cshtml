@* AdminPanel.cshtml - Razor view (cshtml)
   - Admin Panel (LTR)
   - Contains: User Management, Admin Management, Roles, Cars
   - Buttons for each CRUD operation (limited for Admin: only Create + View)
   - Strong CSS styling with white/black/cyan
*@
@{
    ViewData["Title"] = "Admin Panel";
    Layout = "_Layout"; 
}
<link rel="stylesheet" href="~/css/SignUp.css" />
<link rel="stylesheet" href="~/css/ViewBag.css" />
<script src="~/js/ViewBag.js"></script>
<br />
<br />
<br />

@if (ViewBag.Success != null)
{
    <div class="toast-alert success-toast">
        <span>@ViewBag.Success</span>
        <button class="close-btn">&times;</button>
    </div>
}
@if (ViewBag.Error != null)
{
    <div class="toast-alert error-toast">
        <span>@ViewBag.Error</span>
        <button class="close-btn">&times;</button>
    </div>
}

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Admin Panel</title>
    <style>
        /* === Colors: white, black, cyan === */
        :root{
            --bg: #000000;
            --card: #0ff;
            --accent: #00d1d1;
            --text: #ffffff;
            --muted: rgba(255,255,255,0.85);
        }
        *{box-sizing:border-box;font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif}
        body{
            margin:0;
            background:linear-gradient(180deg,var(--bg) 0%, #070707 100%);
            color:var(--text);
            min-height:100vh;
            padding:24px;
        }
        .container{max-width:1100px;margin:0 auto;display:grid;grid-template-columns:260px 1fr;gap:24px;align-items:start}
        .sidebar{background:linear-gradient(180deg,rgba(0,209,209,0.06),rgba(0,209,209,0.02));border:1px solid rgba(0,209,209,0.12);padding:18px;border-radius:14px;box-shadow:0 6px 20px rgba(0,0,0,0.6);}
        .brand{font-weight:700;font-size:18px;color:var(--card);text-align:center;margin-bottom:14px;}
        .nav-btn{display:block;width:100%;padding:12px 14px;margin:8px 0;border-radius:10px;background:transparent;border:1px solid rgba(255,255,255,0.03);color:var(--muted);cursor:pointer;font-size:15px;transition:all 180ms ease;}
        .nav-btn:hover{transform:translateX(6px);color:var(--text);border-color:var(--accent)}
        .nav-btn.active{background:linear-gradient(90deg,rgba(0,209,209,0.06),rgba(0,209,209,0.03));color:var(--text);border-color:var(--accent)}
        .panel{background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(255,255,255,0.01));border:1px solid rgba(255,255,255,0.04);padding:20px;border-radius:14px;min-height:420px;box-shadow:0 10px 30px rgba(0,0,0,0.6);}
        .panel-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:18px;}
        .panel-title{font-size:20px;font-weight:700;color:var(--card)}
        .panel-sub{color:var(--muted);font-size:13px}
        .dash{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:14px;}
        .dash-card{background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(255,255,255,0.01));border:1px solid rgba(255,255,255,0.03);padding:18px;border-radius:12px;min-height:90px;display:flex;flex-direction:column;justify-content:space-between;transition:transform 160ms ease,box-shadow 160ms ease;}
        .dash-card:hover{transform:translateY(-6px);box-shadow:0 12px 30px rgba(0,0,0,0.7)}
        .dash-card h3{margin:0;color:var(--text);font-size:15px}
        .dash-card p{margin:6px 0 0 0;color:var(--muted);font-size:13px}
        .action-btn{border:1px solid var(--accent);background:transparent;padding:8px 12px;border-radius:8px;cursor:pointer;color:var(--card);font-weight:600;transition:all 140ms ease;text-align:center;}
        .action-btn:hover{background:var(--card);color:var(--bg);transform:translateY(-3px)}
        .hidden{display:none}
        .muted{color:var(--muted);font-size:13px}
    </style>
</head>
<body>
    <div class="container">
        <aside class="sidebar">
            <div class="brand">Admin Panel</div>
            <button class="nav-btn active" data-target="users">User Management</button>
            <button class="nav-btn" data-target="admins">Admin Management</button>
            <button class="nav-btn" data-target="roles">Roles</button>
            <button class="nav-btn" data-target="cars">Cars</button>
        </aside>

        <main class="panel">
            <div class="panel-header">
                <div>
                    <div class="panel-title" id="panelTitle">User Management</div>
                    <div class="panel-sub" id="panelSub">Choose an operation below</div>
                </div>
                <div><span class="muted">Logged in as Admin</span></div>
            </div>

            <!-- === Users Dashboard === -->
            <section id="dashboard-users" class="dash-section">
                <div class="dash">
                    <div class="dash-card">
                        <h3>Add User</h3>
                        <p class="muted">Create new user</p>
                        <form asp-controller="Account" asp-action="determineRole" method="get">
                            <button type="submit" class="action-btn">Go</button>
                        </form>
                    </div>
                    <div class="dash-card">
                        <h3>Delete User</h3>
                        <p class="muted">Remove user</p>
                        <form asp-controller="Users" asp-action="DeleteUserView" method="get">
                            <button type="submit" class="action-btn">Go</button>
                        </form>
                    </div>
                    <div class="dash-card">
                        <h3>View All Users</h3>
                        <p class="muted">List users</p>
                        <form asp-controller="Users" asp-action="GetUsers" method="get">
                            <button type="submit" class="action-btn">Go</button>
                        </form>
                    </div>
                    <div class="dash-card">
                        <h3>Update Status Of Users Rented Cars</h3>
                        <p class="muted">List users</p>
                        <form asp-controller="Users" asp-action="UpdateUserCarStatus" method="get">
                            <button type="submit" class="action-btn">Go</button>
                        </form>
                    </div>
                </div>
            </section>

            <!-- === Admin Dashboard === -->
            <section id="dashboard-admins" class="dash-section hidden">
                <div class="dash">
                    <div class="dash-card">
                        <h3>Add Admin</h3>
                        <form asp-controller="Account" asp-action="SignUpView" method="post">
                            <input type="hidden" name="role" value="Admin" />
                            <button type="submit" class="action-btn">Go</button>
                        </form>
                    </div>
                    <div class="dash-card">
                        <h3>View All Admins</h3>
                        <form asp-controller="Admin" asp-action="Index" method="get">
                            <button type="submit" class="action-btn">Go</button>
                        </form>
                    </div>
                </div>
            </section>

            <!-- === Roles Dashboard === -->
            <section id="dashboard-roles" class="dash-section hidden">
                <div class="dash">
                    <div class="dash-card">
                        <h3>Add Role</h3>
                        <form asp-controller="Role" asp-action="CreateRole" method="post">
                            <button type="submit" class="action-btn">Go</button>
                        </form>
                    </div>
                    <div class="dash-card">
                        <h3>Update Role</h3>
                        <form asp-controller="Role" asp-action="UpdateRole" method="post">
                            <button type="submit" class="action-btn">Go</button>
                        </form>
                    </div>
                    <div class="dash-card">
                        <h3>Delete Role</h3>
                        <form asp-controller="Role" asp-action="DeleteRole" method="post">
                            <button type="submit" class="action-btn">Go</button>
                        </form>
                    </div>
                    <div class="dash-card">
                        <h3>View All Roles</h3>
                        <form asp-controller="Role" asp-action="Index" method="get">
                            <button type="submit" class="action-btn">Go</button>
                        </form>
                    </div>
                    <div class="dash-card">
                        <h3>Assign Role To User</h3>
                        <form asp-controller="Role" asp-action="AssignRoleToUserView" method="get">
                            <button type="submit" class="action-btn">Go</button>
                        </form>
                    </div>
                </div>
            </section>

            <!-- === Cars Dashboard === -->
            <section id="dashboard-cars" class="dash-section hidden">
                <div class="dash">
                    <div class="dash-card">
                        <h3>Add Car</h3>
                        <form asp-controller="Cars" asp-action="CreateCarView" method="post">
                            <button type="submit" class="action-btn">Go</button>
                        </form>
                    </div>
                    <div class="dash-card">
                        <h3>View, Edit, Delete Cars</h3>
                        <form asp-controller="Cars" asp-action="GetAllCars" method="get">
                            <button type="submit" class="action-btn">Go</button>
                        </form>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <script>
        // === Sidebar navigation ===
        const navBtns = document.querySelectorAll('.nav-btn');
        const sections = {
            users: document.getElementById('dashboard-users'),
            admins: document.getElementById('dashboard-admins'),
            roles: document.getElementById('dashboard-roles'),
            cars: document.getElementById('dashboard-cars')
        };
        const panelTitle = document.getElementById('panelTitle');
        const panelSub = document.getElementById('panelSub');

        navBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                navBtns.forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                const t = btn.getAttribute('data-target');
                Object.values(sections).forEach(s => s.classList.add('hidden'));
                sections[t].classList.remove('hidden');

                if (t === 'users') {
                    panelTitle.innerText = 'User Management';
                    panelSub.innerText = 'Add, delete, and view users';
                } else if (t === 'admins') {
                    panelTitle.innerText = 'Admin Management';
                    panelSub.innerText = 'Add and view admins';
                } else if (t === 'roles') {
                    panelTitle.innerText = 'Roles Management';
                    panelSub.innerText = 'Add, update, delete, and list roles';
                } else if (t === 'cars') {
                    panelTitle.innerText = 'Cars Management';
                    panelSub.innerText = 'Add, update, delete, and list cars';
                }
            });
        });
    </script>
</body>
</html>
